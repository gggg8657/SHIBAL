python preprocess_images_and_extract.py --json_path image_segments.json --roi_pixels 0,0,480,270 --in_base D:/output_2025/ --windows_prefix D:/output_2025/ --verify_first_n 3


cd for_custom
python make_balanced_lists.py --json_path ../image_segments.json --features_dir features_cropped --output_prefix custom_balanced

# 1. 이미지 크롭 + 특징 추출
python preprocess_images_and_extract.py --json_path ../image_segments.json --roi_pixels 0,0,480,270 --in_base . --windows_prefix D:/output_2025/

# 2. 균형잡힌 리스트 생성
python make_balanced_lists.py --json_path ../image_segments.json --features_dir features_cropped --output_prefix custom_balanced


cd for_custom
python make_balanced_lists.py --json_path ../image_segments.json --features_dir features_cropped --output_prefix custom_balanced


# 기본 설정으로 훈련
python train_custom.py

# 커스텀 설정으로 훈련
python train_custom.py \
    --train_list custom_balanced_train.txt \
    --test_list custom_balanced_test.txt \
    --model_path saved_models/913base.pkl \
    --lr 1e-4 \
    --batch_size 32 \
    --max_epoch 200 \
    --comment my_experiment

# 빠른 테스트용
python train_custom.py --max_epoch 10 --lr 5e-4

for_custom/
├── ckpt/
│   └── 2e-4_16_custom/           # lr_batchsize_comment
│       ├── custom_model0-x3d.pkl
│       ├── custom_model1-x3d.pkl
│       └── custom_modelfinal.pkl